---
title: RegExp.lastIndex
slug: Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex
---

{{JSRef("Global_Objects", "RegExp")}}

## Сводка

Свойство **`lastIndex`** является целочисленным свойством регулярного выражения, доступным как для чтения, так и для записи, которое определяет индекс, с которого следует начинать следующее сопоставление.

{{js_property_attributes(1, 0, 0)}}

## Синтаксис

```
regExpObj.lastIndex
```

## Описание

Это свойство устанавливается только в том случае, если в регулярном выражении используется флаг `"g"`, указывающий на необходимость глобального поиска. Оно подчиняется следующим правилам:

- Если свойство `lastIndex` больше длины строки, методы {{jsxref("RegExp.prototype.test()", "test()")}} и {{jsxref("RegExp.prototype.exec()", "exec()")}} завершатся с неудачей, а свойство `lastIndex` будет установлено в 0.
- Если свойство `lastIndex` равно длине строки и регулярное выражение сопоставляется с пустой строкой, то регулярное выражение начнёт сопоставляться, начиная с позиции `lastIndex`.
- Если свойство `lastIndex` равно длине строки и регулярное выражение не сопоставляется с пустой строкой, то регулярное выражение не соответствует входу и свойство `lastIndex` сбрасывается в 0.
- Во всех остальных случаях свойство `lastIndex` устанавливается в позицию, следующую за самым последним сопоставлением.

## Примеры

### Пример: использование свойства `lastIndex`

Рассмотрим следующую последовательность инструкций:

```js
var re = /(привет)?/g;
```

Сопоставляется с пустой строкой.

```js
console.log(re.exec("привет"));
console.log(re.lastIndex);
```

Выведет массив `["привет", "привет"]`, а свойство `lastIndex` будет равным 6.

```js
console.log(re.exec("привет"));
console.log(re.lastIndex);
```

Выведет массив `["", undefined]`, «пустой» массив, чей нулевой элемент является сопоставившейся строкой. В данном случае, ей является пустая строка, поскольку свойство `lastIndex` было равно 6 (и остаётся равным 6), а строка `"привет"` имеет длину 6.

## Спецификации

| Спецификация                                                                   | Статус             | Комментарии                                                                                                                                                                               |
| ------------------------------------------------------------------------------ | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ECMAScript 3-е издание.                                                        | Стандарт           | Изначальное определение. Реализована в JavaScript 1.2. JavaScript 1.5: свойство `lastIndex` является свойством экземпляра {{jsxref("RegExp")}}, а не самого объекта {{jsxref("RegExp")}}. |
| {{SpecName('ES5.1', '#sec-15.10.7.5', 'RegExp.lastIndex')}}                    | {{Spec2('ES5.1')}} |                                                                                                                                                                                           |
| {{SpecName('ES6', '#sec-properties-of-regexp-instances', 'RegExp.lastIndex')}} | {{Spec2('ES6')}}   |                                                                                                                                                                                           |

## Совместимость с браузерами

{{Compat}}

## Смотрите также

- {{jsxref("RegExp.prototype.ignoreCase")}}
- {{jsxref("RegExp.prototype.global")}}
- {{jsxref("RegExp.prototype.multiline")}}
- {{jsxref("RegExp.prototype.source")}}
- {{jsxref("RegExp.prototype.sticky")}}
